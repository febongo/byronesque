<?php


class mo_slack
{
    public $color = "\43\64\143\x31\65\x34\x64";
    public $scope = "\x61\x64\155\x69\x6e\54\165\163\x65\162\x73\72\x72\145\141\144\x2c\x75\163\145\162\x73\x3a\x72\145\141\144\56\145\155\x61\151\154";
    public $video_url = '';
    public $instructions;
    public function __construct()
    {
        $this->site_url = get_option("\x73\x69\x74\145\165\162\154");
        $this->instructions = "\x47\x6f\x20\x74\x6f\x20\74\x61\x20\150\x72\x65\x66\x3d\42\x68\x74\x74\x70\163\x3a\57\57\x61\160\x69\56\x73\x6c\x61\x63\153\56\143\x6f\x6d\57\x61\x70\160\163\42\40\164\141\162\x67\145\164\x3d\42\x5f\142\154\x61\x6e\x6b\42\76\150\x74\164\x70\163\x3a\x2f\x2f\x61\160\151\56\x73\x6c\141\x63\153\x2e\143\x6f\x6d\57\x61\x70\160\163\x3c\57\141\x3e\40\x61\x6e\144\40\163\151\x67\156\40\151\x6e\40\167\151\164\x68\40\x79\x6f\165\x72\x20\163\154\x61\x63\153\40\144\x65\166\x65\x6c\157\160\x65\x72\40\141\143\x63\157\165\x6e\164\x20\x61\x6e\144\40\111\156\x20\x41\x70\x70\x6c\x69\x63\x61\164\151\x6f\156\x20\x73\145\154\x65\143\x74\40\143\x72\145\141\x74\x65\x20\x6e\145\x77\x20\141\160\160\x2e\x20\43\43\117\x6e\40\x74\150\145\40\x70\157\x70\x75\160\x2c\40\163\x65\154\x65\x63\x74\x20\x46\x72\x6f\155\x20\x53\143\162\x61\x74\x63\150\x2e\x20\43\x23\x4e\x6f\x77\40\x65\x6e\164\x65\162\40\171\x6f\x75\x72\40\x61\x70\160\x6e\141\155\x65\x20\141\156\144\40\167\x6f\x72\153\160\154\141\x63\x65\56\x20\43\x23\111\x6e\x20\164\150\x65\40\144\x61\163\150\x62\157\x61\x72\x64\x20\143\154\x69\x63\x6b\x20\157\156\x20\x4f\x41\x75\164\x68\40\x26\40\120\x65\x72\x6d\x69\163\163\x69\x6f\x6e\x2e\40\x23\x23\x41\144\x64\x20\x3c\x62\76\74\143\x6f\x64\145\40\x69\x64\x3d\47\61\61\47\x3e" . mo_get_permalink("\163\154\x61\x63\153") . "\x3c\57\143\157\144\145\76\74\x69\x20\x73\x74\171\154\x65\x3d\40\42\x77\x69\144\x74\150\72\x20\x31\61\x70\x78\x3b\x68\x65\x69\147\x68\x74\72\40\x39\160\x78\x3b\x70\141\144\144\x69\156\147\x2d\x6c\145\x66\x74\72\62\160\170\x3b\x70\x61\x64\x64\x69\x6e\x67\55\x74\x6f\x70\72\x33\160\x78\x22\40\x63\154\141\x73\x73\75\x22\146\x61\40\x66\x61\55\x66\x77\x20\x66\x61\55\x6c\x67\40\146\x61\x2d\143\x6f\160\x79\40\155\x6f\137\143\157\x70\x79\x20\155\x6f\x5f\157\160\x65\x6e\151\x64\137\x63\x6f\160\x79\164\x6f\x6f\x6c\164\151\x70\42\x20\157\156\x63\154\151\143\153\75\42\x63\x6f\160\171\x54\x6f\103\x6c\x69\x70\x62\x6f\141\x72\144\x28\164\150\x69\163\54\40\47\43\61\61\47\54\40\47\43\x73\150\157\162\164\x63\157\144\145\137\165\162\x6c\61\61\137\x63\x6f\160\x79\x27\x29\x22\76\74\163\160\x61\x6e\40\151\x64\x3d\42\163\150\157\162\164\x63\157\x64\145\137\x75\x72\154\61\61\x5f\143\x6f\160\171\42\x20\x63\154\141\x73\x73\75\42\155\157\137\x6f\160\x65\x6e\x69\144\137\x63\157\x70\x79\x74\x6f\x6f\154\x74\151\x70\x74\x65\170\x74\42\x3e\x43\x6f\160\x79\40\x74\x6f\x20\103\154\151\x70\142\157\x61\x72\144\74\57\163\160\x61\x6e\76\x3c\x2f\x69\x3e\x3c\x2f\142\x3e\40\x69\156\x20\x52\x65\x64\151\x72\145\x63\164\40\x55\x52\x4c\40\163\x65\x63\x74\151\157\156\56\x20\x23\43\x4e\157\167\40\143\x6c\x69\x63\153\40\x6f\156\40\164\x68\145\40\102\141\163\151\143\x20\151\156\146\157\x72\155\141\x74\151\157\x6e\40\157\x6e\40\x73\x69\x64\x65\40\x6d\x65\156\x75\x2e\x20\43\x23\x43\x6f\x70\171\40\164\150\145\40\x43\x6c\x69\145\156\164\x20\111\x64\40\141\156\x64\40\x43\154\151\x65\156\x74\x20\123\145\x63\x72\145\164\40\146\162\x6f\155\x20\164\x68\x65\40\101\x70\160\x20\x43\x72\145\144\145\x6e\164\x69\x61\x6c\40\123\145\x63\x74\151\x6f\156\x20\141\156\x64\x20\x50\x61\163\164\x65\40\164\150\x65\155\x20\x69\x6e\164\x6f\40\164\150\145\40\x66\151\x65\154\144\163\40\141\x62\x6f\x76\145\x2e\x20\43\x23\120\165\x74\x20\x61\144\155\151\x6e\x2c\x75\x73\x65\162\x73\72\162\x65\141\144\x2c\165\163\145\162\163\x3a\162\145\141\144\56\145\x6d\141\151\x6c\40\x61\163\x20\163\143\x6f\x70\145\x2e\40\43\x23\x43\154\151\143\x6b\40\x6f\x6e\x20\x74\150\x65\40\123\141\166\x65\x20\46\x20\164\x68\145\156\x20\x54\145\x73\x74\x20\x79\157\165\162\40\103\x6f\x6e\x66\x69\147\x75\x72\x61\x74\151\157\x6e\56";
    }
    function mo_openid_get_app_code()
    {
        $i0 = maybe_unserialize(get_option("\x6d\x6f\137\x6f\x70\x65\x6e\x69\144\137\x61\160\160\x73\x5f\x6c\151\163\164"));
        $vA = get_social_app_redirect_uri("\x73\154\x61\143\153");
        mo_openid_start_session();
        $_SESSION["\x61\x70\x70\x6e\141\155\x65"] = "\163\154\x61\143\x6b";
        $cS = $i0["\x73\154\x61\x63\153"]["\x63\x6c\151\x65\156\x74\x69\144"];
        $jI = $i0["\163\x6c\x61\x63\153"]["\x73\x63\x6f\160\145"];
        $Ur = "\x68\x74\x74\160\x73\x3a\x2f\x2f\x73\x6c\141\143\x6b\56\143\x6f\x6d\57\x6f\141\x75\x74\x68\57\141\x75\x74\x68\x6f\x72\151\172\145\77\143\x6c\x69\x65\x6e\x74\x5f\x69\x64\75" . $cS . "\x26\x73\143\x6f\x70\145\75" . $jI . "\46\162\145\x64\x69\x72\145\143\x74\137\x75\x72\151\75" . $vA . "\46\x72\145\163\160\157\x6e\163\x65\137\164\x79\160\x65\75\x63\x6f\x64\x65";
        header("\x4c\x6f\143\x61\164\151\x6f\x6e\72" . $Ur);
        exit;
    }
    function mo_openid_get_access_token()
    {
        $Ee = mo_openid_validate_code();
        $vA = get_social_app_redirect_uri("\163\154\141\x63\x6b");
        $i0 = maybe_unserialize(get_option("\155\x6f\137\x6f\160\x65\156\x69\144\137\x61\x70\160\x73\137\154\x69\163\164"));
        $cS = $i0["\x73\x6c\141\x63\x6b"]["\x63\154\151\145\156\x74\151\x64"];
        $ZA = $i0["\x73\154\x61\x63\x6b"]["\x63\154\x69\x65\x6e\x74\163\145\143\162\x65\164"];
        $Ko = array("\143\x6c\x69\145\156\x74\x5f\151\144" => $cS, "\x63\x6c\151\145\x6e\164\137\163\145\x63\x72\145\164" => $ZA, "\147\162\141\x6e\x74\137\x74\x79\160\145" => "\x61\x75\164\150\157\162\x69\172\141\164\151\157\x6e\137\143\x6f\x64\x65", "\x72\145\x64\x69\162\145\143\164\x5f\165\162\x69" => $vA, "\143\157\x64\x65" => $Ee);
        $tg = array();
        $gl = curl_init("\150\164\x74\x70\163\x3a\x2f\57\163\154\141\143\153\x2e\x63\x6f\x6d\x2f\x61\x70\151\x2f\157\141\165\164\150\x2e\141\x63\143\145\163\x73");
        curl_setopt($gl, CURLOPT_HTTPHEADER, $tg);
        curl_setopt($gl, CURLOPT_POSTFIELDS, http_build_query($Ko));
        curl_setopt($gl, CURLOPT_RETURNTRANSFER, true);
        $cb = json_decode(curl_exec($gl), true);
        curl_close($gl);
        $UN = isset($cb["\141\x63\143\x65\x73\163\137\x74\157\x6b\x65\156"]) ? $cb["\141\x63\x63\145\x73\163\137\x74\x6f\153\145\x6e"] : '';
        mo_openid_start_session();
        $Ko = array("\164\157\153\x65\x6e" => $UN, "\165\163\x65\162" => $cb["\x75\x73\145\162\x5f\x69\x64"], "\151\x6e\x63\x6c\165\144\x65\137\154\157\143\x61\154\x65" => true);
        $tg = array("\x43\x6f\156\x74\x65\156\164\55\124\171\x70\x65\x3a\40\x61\x70\x70\154\x69\143\x61\164\151\x6f\156\57\x78\x2d\167\x77\x77\x2d\x66\x6f\x72\155\x2d\165\162\x6c\145\156\143\x6f\144\x65\144");
        $gl = curl_init("\x68\164\164\160\163\x3a\57\x2f\x73\154\141\143\x6b\56\143\x6f\155\x2f\x61\x70\151\57\x75\x73\x65\162\163\56\151\x6e\x66\157");
        curl_setopt($gl, CURLOPT_HTTPHEADER, $tg);
        curl_setopt($gl, CURLOPT_POSTFIELDS, http_build_query($Ko));
        curl_setopt($gl, CURLOPT_RETURNTRANSFER, true);
        $lx = json_decode(curl_exec($gl), true);
        curl_close($gl);
        $Er = $lx;
        if (!(is_user_logged_in() && get_option("\155\x6f\x5f\157\160\145\156\x69\144\137\164\145\x73\x74\137\143\x6f\156\146\x69\x67\x75\162\x61\164\x69\157\x6e") == 1)) {
            goto FeX;
        }
        mo_openid_app_test_config($Er);
        FeX:
        $l4 = $XL = $SW = $gG = $EK = $Go = $Zo = '';
        $SW = isset($Er["\165\163\x65\162"]["\160\x72\157\146\151\154\145"]["\145\x6d\141\151\154"]) ? $Er["\x75\163\145\x72"]["\160\162\x6f\x66\151\154\x65"]["\x65\x6d\141\151\x6c"] : '';
        $l4 = isset($Er["\x75\x73\x65\x72"]["\156\x61\x6d\x65"]) ? $Er["\165\x73\145\162"]["\x6e\141\155\x65"] : '';
        $XL = isset($Er["\165\x73\145\162"]["\x6e\141\155\x65"]) ? $Er["\165\x73\x65\x72"]["\156\141\x6d\145"] : '';
        $gG = isset($Er["\x75\163\x65\162"]["\x72\x65\x61\x6c\137\156\x61\x6d\x65"]) ? $Er["\x75\x73\145\162"]["\x72\145\141\154\137\156\x61\155\x65"] : '';
        $Zo = isset($Er["\165\163\145\162"]["\165\163\145\x72\137\x69\x64"]) ? $Er["\x75\x73\145\162"]["\x75\163\145\162\x5f\x69\144"] : '';
        $De = array("\146\151\162\163\x74\137\x6e\x61\x6d\145" => $l4, "\154\141\x73\164\137\156\x61\x6d\145" => $XL, "\145\155\x61\151\x6c" => $SW, "\x75\x73\145\162\x5f\x6e\141\155\145" => $gG, "\x69\144" => $Zo, "\x61\x70\160" => "\163\x6c\x61\143\153");
        return $De;
    }
}
