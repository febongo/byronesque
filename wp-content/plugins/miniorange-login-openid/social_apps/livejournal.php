<?php


class mo_livejournal
{
    public $color = "\43\x30\x30\x34\60\70\60";
    public $scope = "\142\x6c\141\156\x6b";
    public $instructions;
    public function __construct()
    {
        $this->site_url = get_option("\x73\151\164\145\x75\x72\154");
        $this->instructions = "\x3c\160\x3e\x45\156\164\145\162\x20\x79\157\165\162\40\74\x62\76\125\x73\x65\162\x20\x49\104\x3c\x2f\x62\76\x20\x6f\146\x20\x4c\x69\166\145\x20\152\x6f\x75\x72\x6e\141\154\40\x61\x73\40\101\160\x70\40\111\x44\x2e\x3c\57\160\76\43\43\x3c\x70\76\x4c\145\141\x76\x65\x20\x74\x68\x65\40\x41\x70\160\x20\x73\x65\143\x72\145\164\x20\141\163\x20\x69\x74\40\151\x73\x20\141\x6e\x64\40\x73\x63\x6f\x70\x65\x20\x62\x6c\x61\156\x6b\x3c\57\x70\76";
    }
    function mo_openid_get_app_code()
    {
        $i0 = maybe_unserialize(get_option("\155\x6f\137\x6f\160\145\x6e\x69\x64\x5f\141\160\x70\163\x5f\154\151\163\x74"));
        $vA = get_social_app_redirect_uri("\154\x69\166\x65\152\157\165\x72\x6e\141\x6c");
        mo_openid_start_session();
        $_SESSION["\141\x70\x70\156\x61\155\x65"] = "\154\151\166\x65\152\x6f\165\x72\156\141\154";
        $cS = $i0["\154\x69\166\x65\x6a\x6f\165\x72\156\x61\154"]["\x63\154\151\145\156\164\151\144"];
        $Ur = "\150\164\x74\x70\163\72\x2f\57\x77\x77\167\56\x6c\x69\x76\145\x6a\x6f\165\x72\156\x61\x6c\x2e\143\157\155\57\x6f\x70\145\156\151\144\57\x73\x65\x72\166\x65\x72\56\142\155\154\x3f\x6f\x70\145\156\x69\144\56\x72\x65\x74\165\162\x6e\x5f\x74\x6f\x3d" . $vA . "\46\157\160\x65\156\x69\x64\56\155\157\144\x65\x3d\x63\150\145\x63\153\151\x64\x5f\163\x65\164\165\x70\x26\x6f\160\x65\156\x69\x64\56\x69\144\x65\x6e\164\151\x74\171\75\x68\164\x74\x70\72\57\x2f" . $cS . "\x2e\x6c\151\166\x65\152\x6f\165\162\x6e\x61\x6c\56\x63\x6f\x6d\46\157\160\x65\x6e\151\144\x2e\x74\162\165\163\164\137\162\157\x6f\164\75" . $vA . "\x26\157\x70\x65\156\151\x64\x2e\163\162\145\x67\56\162\145\161\165\x69\162\145\x64\75\x65\x6d\x61\151\x6c\54\x66\165\x6c\154\156\141\155\145\x26\x6f\160\145\156\x69\144\56\x73\162\x65\x67\x2e\x6f\x70\164\x69\157\156\141\154\75\x64\x6f\x62\x2c\x67\x65\x6e\144\145\162\x2c\x70\157\x73\164\143\x6f\x64\x65\x2c\143\x6f\165\156\164\162\171\x2c\x6c\x61\x6e\x67\x75\x61\147\x65\54\164\x69\155\x65\x7a\x6f\x6e\x65";
        header("\114\x6f\143\141\x74\151\157\x6e\x3a" . $Ur);
        exit;
    }
    function mo_openid_get_access_token()
    {
        $Er = $_REQUEST;
        if (!(is_user_logged_in() && get_option("\x6d\x6f\x5f\157\x70\145\156\151\x64\137\164\x65\x73\x74\137\x63\x6f\x6e\146\x69\147\x75\162\x61\x74\x69\x6f\156") == 1)) {
            goto V8D;
        }
        mo_openid_app_test_config($Er);
        V8D:
        $l4 = $XL = $SW = $gG = $EK = $Go = $Zo = '';
        $Ku = $Me = $JC = $Du = $u1 = $ww = $QD = '';
        if (!isset($Er["\x6f\x70\x65\x6e\151\144\137\143\x6c\141\151\x6d\x65\144\137\x69\144"])) {
            goto RG_;
        }
        $dx = explode("\72", $Er["\x6f\x70\145\156\151\144\x5f\143\154\141\151\x6d\145\x64\137\151\x64"]);
        $kV = str_replace("\57\x2f", '', $dx[1]);
        $Pn = explode("\56", $kV);
        $HD = $Pn[1];
        $gG = $Pn[0];
        $Zo = $Er["\x6f\x70\x65\x6e\x69\x64\x5f\x6d\x6f\x64\145"];
        RG_:
        $De = array("\146\151\x72\163\x74\137\x6e\x61\x6d\x65" => $l4, "\154\141\x73\164\x5f\x6e\141\155\x65" => $XL, "\x65\155\x61\151\154" => $SW, "\165\x73\145\162\x5f\x6e\141\x6d\x65" => $gG, "\165\163\x65\162\x5f\165\x72\x6c" => $EK, "\x75\163\x65\162\x5f\160\x69\x63\164\165\162\x65" => $Go, "\x73\157\143\x69\x61\x6c\137\x75\163\145\x72\137\x69\x64" => $Zo, "\154\157\x63\x61\164\x69\x6f\156\x5f\143\x69\x74\x79" => $Ku, "\154\157\143\141\x74\151\x6f\156\x5f\x63\157\165\x6e\x74\x72\171" => $Me, "\x61\142\x6f\x75\x74\x5f\x6d\145" => $JC, "\x63\157\155\x70\x61\156\x79\137\156\x61\x6d\x65" => $Du, "\x66\162\151\145\156\144\137\x6e\x6f\x73" => $QD, "\147\x65\156\144\x65\x72" => $ww, "\141\x67\145" => $u1, "\141\x70\x70\156\x61\155\x65" => $HD);
        return $De;
    }
}
